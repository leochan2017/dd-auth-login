{"version":3,"sources":["webpack://ddAuthLogin/webpack/universalModuleDefinition","webpack://ddAuthLogin/webpack/bootstrap","webpack://ddAuthLogin/./src/index.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","isDD","login","_noop","myObj","dd","libName","debug","signUrl","signParamName","ssoUrl","ssoParamName","success","fail","jsApiList","logger","console","log","error","warn","info","_ajax","options","type","toUpperCase","dataType","XMLHttpRequest","xhr","ActiveXObject","onreadystatechange","readyState","status","responseText","responseXML","open","url","send","setRequestHeader","data","_getSign","location","href","res","JSON","parse","str","isLogin","msg","_config","content","corpId","config","agentId","timeStamp","nonceStr","signature","hasLogin","ready","runtime","permission","requestAuthCode","onSuccess","code","onFail","stringify","test","navigator","userAgent","swuserAgent"],"mappings":"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","file":"dd-auth-login.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ddAuthLogin\"] = factory();\n\telse\n\t\troot[\"ddAuthLogin\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// A auth login js library from Dingtalk\n// Author: Leo\n// Last update: 2019.08.09\n\nvar __NAME__ = 'ddAuthLogin'\nvar _noop = function () { }\n\nvar myObj = {\n  dd: null,\n  libName: __NAME__,\n  debug: false,\n  // 请求签名地址\n  signUrl: '/data/labc-biz-dingding/dingTalk/getAuthInfo',\n  // 请求签名参数名称\n  signParamName: 'url',\n  // 请求sso地址\n  ssoUrl: '/data/labc-biz-dingding/dingTalk/sso',\n  // 请求sso参数名称\n  ssoParamName: 'authCode',\n  // 成功回调\n  success: _noop,\n  // 失败回调\n  fail: _noop,\n  // 要签名的功能列表\n  jsApiList: [\n    'runtime.permission.requestAuthCode',\n    'biz.util.datepicker',\n    'biz.util.timepicker',\n    'biz.util.datetimepicker',\n    'biz.ding.post',\n    'biz.telephone.call',\n    'biz.user.get',\n    'biz.contact.choose',\n    'biz.contact.createGroup',\n    'biz.contact.complexChoose',\n    'biz.util.chosen',\n    'biz.util.openLink',\n    'biz.util.uploadImage',\n    'biz.util.previewImage',\n    'biz.util.open',\n    'biz.util.share',\n    'biz.navigation.setTitle',\n    'biz.navigation.setLeft',\n    'biz.navigation.setRight',\n    'biz.navigation.close',\n    'biz.chat.pickConversation',\n    'biz.chat.chooseConversation',\n    'biz.chat.toConversation',\n    'biz.chat.chooseConversationByCorpId',\n    'biz.navigation.setIcon',\n    'ui.progressBar.setColors',\n    'ui.webViewBounce.disable',\n    'ui.input.plain',\n    'device.audio.startRecord',\n    'device.audio.stopRecord',\n    'device.audio.translateVoice',\n    'biz.telephone.showCallMenu',\n    'device.geolocation.get',\n    'biz.navigation.hideBar'\n  ]\n}\n\nvar logger =\n  typeof console === 'undefined'\n    ? {\n      log: _noop,\n      debug: _noop,\n      error: _noop,\n      warn: _noop,\n      info: _noop\n    }\n    : console\n\nif (!logger.debug) logger.debug = _noop\n\nfunction _ajax(options) {\n  options = options || {}\n  options.type = (options.type || 'GET').toUpperCase()\n  options.dataType = options.dataType || 'json'\n\n  if (window.XMLHttpRequest) {\n    var xhr = new XMLHttpRequest()\n  } else {\n    var xhr = new ActiveXObject('Microsoft.XMLHTTP')\n  }\n\n  xhr.onreadystatechange = function () {\n    if (xhr.readyState == 4) {\n      var status = xhr.status\n      if (status >= 200 && status < 300) {\n        options.success && options.success(xhr.responseText, xhr.responseXML)\n      } else {\n        options.fail && options.fail(status)\n      }\n    }\n  }\n\n  if (options.type == 'GET') {\n    xhr.open('GET', options.url, true)\n    xhr.send(null)\n  } else if (options.type == 'POST') {\n    xhr.open('POST', options.url, true)\n    xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded')\n    xhr.send(options.data)\n  }\n}\n\n/**\n * 进行免登\n */\nfunction _ssoLogin(corpId) {\n  myObj.dd.ready(function () {\n    myObj.dd.runtime.permission.requestAuthCode({\n      corpId: corpId,\n      onSuccess: function (d) {\n        if (!d || !d.code) {\n          var str = '免登过程中获取钉钉code失败'\n          myObj.debug && logger.error(str)\n          myObj.fail({\n            isDD: true,\n            isLogin: false,\n            msg: str\n          })\n          return\n        }\n\n        _ajax({\n          url: myObj.ssoUrl + '?' + myObj.ssoParamName + '=' + d.code,\n          type: 'GET',\n          data: null,\n          dataType: 'json',\n          success: function (res) {\n            if (!res) {\n              var str = '免登接口集合返回失败'\n              myObj.debug && logger.error(str)\n              myObj.fail({\n                isDD: true,\n                isLogin: false,\n                msg: str\n              })\n              return\n            }\n            myObj.success({\n              isDD: true,\n              isLogin: true,\n              msg: 'Login Success!'\n            })\n          },\n          fail: function (error) {\n            myObj.debug && logger.error(error)\n            myObj.fail({\n              isDD: true,\n              isLogin: false,\n              msg: 'Login Fail!',\n              content: error\n            })\n          }\n        })\n      },\n      onFail: function (error) {\n        myObj.debug && logger.error(error)\n        myObj.fail({\n          isDD: true,\n          isLogin: false,\n          msg: 'Login Fail!',\n          content: error\n        })\n      }\n    })\n  })\n}\n\n/**\n * 获取免登信息 & 签名\n */\nfunction _getSign() {\n  _ajax({\n    url: myObj.signUrl + '?' + myObj.signParamName + '=' + location.href,\n    type: 'GET',\n    data: '',\n    dataType: 'json',\n    success: function (res) {\n      res = JSON.parse(res)\n      myObj.debug && logger.log('后台签名数据返回:', res)\n\n      if (!res || typeof res == 'undefined') {\n        var str = 'sign ajax is no result'\n        myObj.debug && logger.error(str)\n        myObj.fail({\n          isDD: true,\n          isLogin: false,\n          msg: str\n        })\n        return\n      }\n\n      const _config = res.content\n\n      if (!_config) {\n        var str = 'sign: res.content is no data'\n        myObj.debug && logger.error(str)\n        myObj.fail({\n          isDD: true,\n          isLogin: false,\n          msg: str\n        })\n        return\n      }\n\n      myObj.dd.config({\n        agentId: _config.agentId,\n        corpId: _config.corpId,\n        timeStamp: _config.timeStamp,\n        nonceStr: _config.nonceStr,\n        signature: _config.signature,\n        jsApiList: myObj.jsApiList\n      })\n\n      // 如果已经登录，则返回true，此时可以不用调用sso\n      if (_config.hasLogin) {\n        myObj.success({\n          isDD: true,\n          isLogin: true,\n          msg: 'Login Success!'\n        })\n        return\n      }\n\n      myObj.dd.error(function (error) {\n        myObj.debug && logger.error(error)\n        myObj.fail({\n          isDD: true,\n          isLogin: false,\n          msg: 'dd.error',\n          content: error\n        })\n      })\n\n      _ssoLogin(_config.corpId)\n    },\n    fail: function (error) {\n      var str = 'sign ajax fail:' + JSON.stringify(error)\n      myObj.debug && logger.error(str)\n      myObj.fail({\n        isDD: true,\n        isLogin: false,\n        msg: 'sign ajax fail',\n        content: error\n      })\n    }\n  })\n}\n\n/**\n * 获取当前浏览器UA信息\n */\nfunction _getUA() {\n  return typeof navigator !== 'undefined' && ((navigator && (navigator.userAgent || navigator.swuserAgent)) || '')\n}\n\n/**\n * 获取当前是否钉钉环境\n */\nexport function isDD() {\n  return /DingTalk/i.test(_getUA())\n}\n\n/**\n * 初始化函数\n */\nexport function login(options) {\n  if (typeof options !== 'object') {\n    var str = '啥参数都不传嘛?'\n    logger.error(str)\n    myObj.fail({\n      isDD: true,\n      isLogin: false,\n      msg: str\n    })\n    return\n  }\n\n  if (typeof options.dd === 'object') {\n    myObj.dd = options.dd\n  } else if (typeof window.dd === 'object') {\n    myObj.dd = dd\n  }\n\n  if (typeof options.debug !== 'undefined') {\n    myObj.debug = options.debug\n    if (options.debug) logger.warn('开启debug模式')\n  }\n\n  if (options.signUrl) {\n    myObj.signUrl = options.signUrl\n  }\n\n  if (options.signParamName) {\n    myObj.signParamName = options.signParamName\n  }\n\n  if (options.ssoUrl) {\n    myObj.ssoUrl = options.ssoUrl\n  }\n\n  if (options.ssoParamName) {\n    myObj.ssoParamName = options.ssoParamName\n  }\n\n  if (options.jsApiList) {\n    myObj.jsApiList = options.jsApiList\n  }\n\n  if (options.success) {\n    myObj.success = options.success\n  }\n\n  if (options.fail) {\n    myObj.fail = options.fail\n  }\n\n  myObj.debug && logger.log('当前入参:', myObj)\n\n  if (!isDD()) {\n    var str = '非钉钉环境本库不会继续签名和免登哦'\n    myObj.debug && logger.warn(str)\n    myObj.success({\n      isDD: false,\n      isLogin: false,\n      msg: str\n    })\n    return\n  }\n\n  if (!myObj.dd) {\n    var str = '请先完全引入钉钉 js 库再调用本库'\n    myObj.debug && logger.error(str)\n    myObj.fail({\n      isDD: true,\n      isLogin: false,\n      msg: str\n    })\n    return\n  }\n\n  _getSign()\n}\n\n// export function otherAIP() {\n//   return xxx\n// }\n\n// 为了让 import ddAuthLogin from 'dd-auth-login' 生效\nexport default { login, isDD }\n"],"sourceRoot":""}